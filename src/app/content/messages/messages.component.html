<div class="chat-list-container">
    <div class="chat-list-sidebar">
        <div class="header-icons">
            <button (click)="loadAllMessages()">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 400 400" fill="none">
                    <path d="M124 205.52C133.665 205.52 141.5 197.685 141.5 188.02C141.5 178.355 133.665 170.52 124 170.52C114.335 170.52 106.5 178.355 106.5 188.02C106.5 197.685 114.335 205.52 124 205.52Z" stroke="#6A0BFF" stroke-width="12" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M200 205.52C209.665 205.52 217.5 197.685 217.5 188.02C217.5 178.355 209.665 170.52 200 170.52C190.335 170.52 182.5 178.355 182.5 188.02C182.5 197.685 190.335 205.52 200 205.52Z" stroke="#6A0BFF" stroke-width="12" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M276 205.52C285.665 205.52 293.5 197.685 293.5 188.02C293.5 178.355 285.665 170.52 276 170.52C266.335 170.52 258.5 178.355 258.5 188.02C258.5 197.685 266.335 205.52 276 205.52Z" stroke="#6A0BFF" stroke-width="12" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M335 288.02H156.76C154.33 288.02 151.99 288.9 150.17 290.5L104.27 330.73C101.03 333.57 95.97 331.26 95.97 326.96L96.02 298.03C96.03 292.5 91.55 288.01 86.02 288.01H65C56.72 288.01 50 281.29 50 273.01V103.01C50 94.7298 56.72 88.0098 65 88.0098H335C343.28 88.0098 350 94.7298 350 103.01V273.01C350 281.3 343.28 288.02 335 288.02Z" stroke="#191919" stroke-width="12" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
        <div class="chat-list-header">
            <div class="profile-image" *ngIf="(accountService.currentUser$  | async) as user">
                <img src="{{user.photoUrl || './assets/user.png'}}" alt="user photo" routerLink="/member/edit" />
            </div>
        </div>
    </div>
    <div class="chat-list-main">
        <div class="chat-list-title">
            <h4 class="gradient-text">Discover the Power of Genuine Conversations</h4>
        </div>
        <div class="chat-list-content" *ngFor="let message of connectedMessage">
            <div class="chat-item" [routerLink]="['/']">
                <div class="chat-avatar">
                    <img src="{{message.photoUrl || './assets/user.png'}}" alt="Chat Avatar" />
                </div>
                <div class="chat-info">
                    <div class="chat-name">{{message.fullName | titlecase}}</div>
                    <div class="chat-preview">{{message.lastMessage}}</div>
                </div>
                <div class="chat-time">{{message.messageSent | timeago}}</div>
            </div>
        </div>
        <div class="row" *ngIf="!connectedMessage || connectedMessage.length === 0">
            <h3>No messages</h3>
        </div>
        <div class="d-flex justify-content-center pagination"
        *ngIf="!loading && pagination && connectedMessage && connectedMessage.length > 0">
        <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems" [itemsPerPage]="pagination.itemsPerPage"
            [maxSize]="10" [(ngModel)]="pagination.currentPage" (pageChanged)="pageChanged($event)"
            previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;">
        </pagination>
    </div>
    </div>
</div>






















































<!-- <div class="container">
    <div class="messages-btn-group">
            <button class="btn btn-primary Unread-btn" btnRadio="Unread" [(ngModel)]="container" (click)="loadMessages()">
                <i class="fa fa-envelope"></i> Unread
            </button>
            <button class="btn btn-primary Inbox-btn" btnRadio="Inbox" [(ngModel)]="container" (click)="loadMessages()">
                <i class="fa fa-envelope-open"></i> Inbox
            </button>
            <button class="btn btn-primary Outbox-btn" btnRadio="Outbox" [(ngModel)]="container" (click)="loadMessages()">
                <i class="fa fa-paper-plane"></i> Outbox
            </button>
            <tabset>
                <tab heading="Member connected">
                    <app-member-connected></app-member-connected>
                </tab>
            </tabset>
    </div>
    <div class="row" *ngIf="!messages || messages.length === 0">
        <h3>No messages</h3>
    </div>

    <div class="row" *ngIf="messages && messages.length > 0">
        <table class="table table-hover" style="cursor: pointer;">
            <thead>
                <tr>
                    <th style="width: 40%">Message</th>
                    <th style="width: 20%">From / To</th>
                    <th style="width: 20%">Sent / Received</th>
                    <th style="width: 20%"></th>
                </tr>
            </thead>
            <tbody class="align-middle">
                <tr [hidden]="loading" *ngFor="let message of messages" routerLink="{{container === 'Outbox' 
                        ? '/members/' + message.recipientUsername 
                        : '/members/' + message.senderUsername}}" [queryParams]="{tab: 'Messages'}">
                    <td>{{message.content}}</td>
                    <td>
                        <div *ngIf="container === 'Outbox'">
                            <img class="img-circle rounded-circle me-2"
                                src="{{message.recipientPhotoUrl || './assets/user.png'}}" alt="recipient photo">
                            <strong>{{message.recipientUsername | titlecase}}</strong>
                        </div>
                        <div *ngIf="container !== 'Outbox'">
                            <img class="img-circle rounded-circle me-2"
                                src="{{message.senderPhotoUrl || './assets/user.png'}}" alt="recipient photo">
                            <strong>{{message.senderUsername | titlecase}}</strong>
                        </div>
                    </td>

                    <td>
                        <button (click)="$event.stopPropagation()" (click)="deleteMessage(message.id)"
                            class="btn btn-danger">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="d-flex justify-content-center" *ngIf="!loading && pagination && messages && messages.length > 0">
        <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems" [itemsPerPage]="pagination.itemsPerPage"
            [maxSize]="10" [(ngModel)]="pagination.currentPage" (pageChanged)="pageChanged($event)" previousText="&lsaquo;"
            nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;">
        </pagination>
    </div>
</div> -->