<div class="main-box" *ngIf="member">
  <div class="row">
      <div class="col col-lg-12 col-xl-12">
      </div>
      <div class="center">
          <h1>Your profile</h1>
      </div>
      
  </div>
<section class="h-100 gradient-custom-2">
  <div class="container py-5 h-100" *ngIf="member">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col col-lg-12 col-xl-12">
        <div class="card">
          <div class="rounded-top text-white d-flex flex-row" style="background-color: #000; height:200px;">
            <div class="ms-4 mt-5 d-flex flex-column" style="width: 150px;">
              <img src="{{member.photoUrl || './assets/user.png'}}" alt="{{member.knownAs}}"
              class="img-fluid img-thumbnail mb-3">
            </div>
            <div class="ms-3" style="margin-top: 130px;">
              
            </div>
          </div>
          <div class="p-4 text-black" style="background-color: #f8f9fa;">
              <div class="profile">
                  <div class="profile-name">
                      <h4>{{member.userName}}</h4>
                      <p>{{member.knownAs}}</p>
                  </div>
                  <ng-template #editModal>
                    <div class="modal-body">
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="modalRef.hide()"></button>
                        <tabset class="member-tabset">
                          <tab heading="Edit Introduction">
                            
                                  <form class="form" [formGroup]="updateIntroForm" (ngSubmit)="updateIntroduction()">
                                      <div class="form-group">
                                          <label for="introduction">Introduction</label>
                                          <div class="alert alert-info pb-0" *ngIf="updateIntroForm.dirty">
                                              <p><strong>Information: </strong>You have made changes. Any unsaved changes will
                                                  be lost</p>
                                          </div>
                                          <textarea id="introduction" class="form-control" formControlName="introduction"
                                              required></textarea>
                                      </div>
                                      <button type="submit" class="btn-update"
                                          [disabled]="!updateIntroForm.valid || !updateIntroForm.dirty">
                                          Update
                                      </button>
                                  </form>
                          
                          </tab>
                          <tab heading="Edit Looking For">
                            <app-edit-lookingfor (interestAdded)="reloadData()"></app-edit-lookingfor>
                        </tab>
                        <tab heading="Edit Interest">
                            <app-edit-interest (interestAdded)="reloadData()"></app-edit-interest>
                        </tab>
                        <tab heading="Edit Photos">
                            <app-photo-editor [member]="member"></app-photo-editor>
                        </tab>
                        </tabset>
                    </div>
                  </ng-template>
                  <button class="btn btn-outline-dark btn-update" data-mdb-ripple-color="dark" (click)="openEditModal(editModal)">
                      Edit profile
                  </button>
              </div>
            <div class="d-flex justify-content-end text-center py-1">
              <div>
                <p class="mb-1 h5">253</p>
                <p class="small text-muted mb-0">Photos</p>
              </div>
              <div class="px-3">
                <p class="mb-1 h5">1026</p>
                <p class="small text-muted mb-0">Followers</p>
              </div>
              <div>
                <p class="mb-1 h5">478</p>
                <p class="small text-muted mb-0">Following</p>
              </div>
            </div>
          </div>
          <div class="card-body p-4 text-black">
            <div class="mb-5">
              <p class="lead fw-normal mb-1">About</p>
              <div class="p-4" style="background-color: #f8f9fa;">
                  <div class="profile-detail">
                      <strong><span class="icon">üôç</span>Fullname:</strong>
                      <p>{{member.fullName}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üìç</span>Location:</strong>
                      <p>{{member.city}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üéÇ</span>Age:</strong>
                      <p>{{member.age}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">‚ößÔ∏è</span>Gender:</strong>
                      <p>{{member.gender}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üîç</span>Looking fors:</strong>
                      <li *ngFor="let lookingFor of member.lookingFors">{{lookingFor.name}}
                          <button (click)="deleteLookingFor(lookingFor.id)">Delete</button>
                      </li>
                  </div>
                  <div>
                      <strong><span class="icon">üí¨</span>Introduction:</strong>
                      <p style="text-align: justify; text-justify: inter-word;">{{member.introduction}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üìÖ</span>Member since:</strong>
                      <p>{{member.created | date: 'dd MMM yyyy'}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üï∞Ô∏è</span>Last active:</strong>
                      <p>{{member.lastActive | timeago}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üåÜ</span>City:</strong>
                      <p>{{member.city}}</p>
                  </div>
                  <div class="profile-detail">
                      <strong><span class="icon">üåü</span>Interests:</strong>
                      <li *ngFor="let interest of member.interests">{{interest.name}}
                          <button (click)="deleteInterest(interest.id)">Delete</button>
                      </li>                  
                  </div>            
              </div>
            </div>
            <div class="d-flex justify-content-between align-items-center mb-4">
              <p class="lead fw-normal mb-0">Recent photos</p>
              <p class="mb-0"><a href="#!" class="text-muted">Show all</a></p>
            </div>
            <div class="row g-2">
              <div class="col mb-2">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(112).webp"
                  alt="image 1" class="w-100 rounded-3">
              </div>
              <div class="col mb-2">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(107).webp"
                  alt="image 1" class="w-100 rounded-3">
              </div>
            </div>
            <div class="row g-2">
              <div class="col">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(108).webp"
                  alt="image 1" class="w-100 rounded-3">
              </div>
              <div class="col">
                <img src="https://mdbcdn.b-cdn.net/img/Photos/Lightbox/Original/img%20(114).webp"
                  alt="image 1" class="w-100 rounded-3">
              </div>
            </div>
            <div class="profile-btn">
                      <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" id="visibilitySwitch" [(ngModel)]="isVisible"
                              (ngModelChange)="setVisibility($event)">
                          <label class="form-check-label" for="visibilitySwitch">Visibility</label>
                      </div>
                      <button (click)="deleteAccount()" class="btn btn-danger">Delete Account</button>
                  </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</div>